# üéôÔ∏è Audio Generator - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

## –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∞—É–¥–∏–æ –¥–ª—è —É—Ä–æ–∫–æ–≤ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∏–∑ —É—Ä–æ–∫–æ–≤ –ë–î
- ‚úÖ –†—É—á–Ω–æ–π –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –Ω–∞ —Å–ª–∞–π–¥—ã (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ [SLIDE:N], ---, –∏ –∞–±–∑–∞—Ü–µ–≤)
- ‚úÖ –í—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞ ElevenLabs (12 –≥–æ–ª–æ—Å–æ–≤)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—É–¥–∏–æ –Ω–∞–ø—Ä—è–º—É—é (–±–µ–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤!)
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
- ‚úÖ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ MP3
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤

## –§–∞–π–ª—ã –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤:** `src/app/admin/audio-generator/page.tsx`

### 2. API –¥–ª—è —Å–ø–∏—Å–∫–∞ —É—Ä–æ–∫–æ–≤
**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤:** `src/app/api/admin/lessons/route.ts`

### 3. API –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —É—Ä–æ–∫–∞
**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤:** `src/app/api/admin/lessons/[id]/route.ts`

### 4. API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞—É–¥–∏–æ
**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤:** `src/app/api/admin/generate-audio/route.ts`

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
cd /Users/davudzulumkhanov/thinking-course-en

# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç)
mkdir -p src/app/admin/audio-generator
mkdir -p src/app/api/admin/lessons
mkdir -p src/app/api/admin/lessons/[id]
mkdir -p src/app/api/admin/generate-audio
mkdir -p public/audio

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã (–≤—Ä—É—á–Ω—É—é –∏–ª–∏ —á–µ—Ä–µ–∑ git)
```

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local` (–µ—Å–ª–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ):

```env
ELEVENLABS_API_KEY=sk_24708aff82ec3e2fe533c19311a9a159326917faabf53274
```

---

## –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ö–µ–º—É Prisma

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `prisma/schema.prisma` —É –º–æ–¥–µ–ª–∏ `Lesson` –µ—Å—Ç—å –ø–æ–ª–µ `audioText`:

```prisma
model Lesson {
  id        String   @id @default(cuid())
  number    Int
  title     String
  content   String?  @db.Text
  audioText String?  @db.Text  // <- –≠—Ç–æ –ø–æ–ª–µ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –æ–∑–≤—É—á–∫–∏
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}
```

–ï—Å–ª–∏ –ø–æ–ª—è –Ω–µ—Ç, –¥–æ–±–∞–≤—å—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
npx prisma db push
```

### 2. –î–µ–ø–ª–æ–π –Ω–∞ Railway

```bash
git add .
git commit -m "feat: Add automated Audio Generator

- Direct ElevenLabs audio generation (no scripts needed)
- Automatic lesson text loading from database
- Manual text input support
- 12 ElevenLabs voices
- Progress tracking
- Audio preview and download"

git push
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã.

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä

```
https://english-leeson-production.up.railway.app/admin/audio-generator
```

---

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
1. –í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–∫ –∏–∑ —Å–ø–∏—Å–∫–∞
2. –¢–µ–∫—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–æ–±—å—ë—Ç—Å—è –Ω–∞ —Å–ª–∞–π–¥—ã
3. –í—ã–±–µ—Ä–∏—Ç–µ –≥–æ–ª–æ—Å
4. –ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ"
5. –°–∫–∞—á–∞–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ MP3

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π –≤–≤–æ–¥
1. –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É "–†—É—á–Ω–æ–π –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞"
2. –í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `[SLIDE:1]`, `[SLIDE:2]` –∏–ª–∏ `---` –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–ª–∞–π–¥–æ–≤
4. –ù–∞–∂–º–∏—Ç–µ "–†–∞–∑–æ–±—Ä–∞—Ç—å –Ω–∞ —Å–ª–∞–π–¥—ã"
5. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∞—É–¥–∏–æ

---

## –ì–æ–ª–æ—Å–∞ ElevenLabs

### Custom (–æ–±—É—á–µ–Ω–Ω—ã–µ):
- Custom Voice ‚≠ê - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞—Å—Ç–æ–º–Ω—ã–π
- dZulu, dZulu2 - –≤–∞—à–∏ –≥–æ–ª–æ—Å–∞
- New Voice - –Ω–æ–≤—ã–π

### Built-in (–∞–Ω–≥–ª–∏–π—Å–∫–∏–µ):
- **–ú—É–∂—Å–∫–∏–µ:** Adam (–≥–ª—É–±–æ–∫–∏–π), Josh (–º–æ–ª–æ–¥–æ–π), Sam (—Ö—Ä–∏–ø–ª—ã–π), Antoni (–º—è–≥–∫–∏–π)
- **–ñ–µ–Ω—Å–∫–∏–µ:** Bella, Rachel, Domi, Elli

---

## Troubleshooting

### –û—à–∏–±–∫–∞ 400 –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–µ–∫—Å—Ç –Ω–µ –ø—É—Å—Ç–æ–π
- –¢–µ–∫—Å—Ç –Ω–µ –¥–ª–∏–Ω–Ω–µ–µ 5000 —Å–∏–º–≤–æ–ª–æ–≤
- Voice ID –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

### –û—à–∏–±–∫–∞ 401 Unauthorized
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á ElevenLabs
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω

### –ê—É–¥–∏–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫—É `public/audio/`
- –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```
public/
‚îî‚îÄ‚îÄ audio/
    ‚îú‚îÄ‚îÄ lessonXXX/        # –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–∫–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ slide1.mp3
    ‚îÇ   ‚îú‚îÄ‚îÄ slide2.mp3
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ manual/           # –î–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞
        ‚îî‚îÄ‚îÄ slideXXX.mp3
```

---

üéâ –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—É–¥–∏–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–∞!
